<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="style.css"/>
    <script type="text/javascript">
      function solve1()
      {
        var upLimit = document.problem_one.p1_upper_limit.value;
        var sum = 0;
        for (i = 0; i < upLimit; i++)
        {
          if (i % 3 === 0 || i % 5 === 0) sum += i;
        }
        document.problem_one.p1_answer.value = sum;
      }

      function solve2()
      {
        var upLimit = document.problem_two.p2_upper_limit.value;
        var first = 1;
        var second = 2;
        var sum = 0;

        while (second < upLimit)
        {
          if (second % 2 === 0) sum += second;
          var next = first + second;
          first = second;
          second = next;
        }

        document.problem_two.p2_answer.value = sum;
      }

      function isPrime(value)
      {
        for (var i = 2; i < value; i++){
          if (value % i === 0) return false;
        }
        return value > 1;
      }

      function generatePrimes(number){
        var output = [];
        console.log(Math.sqrt(number));
        for (i = 1; i < Math.sqrt(number); i+=2)
        {
          console.log(i);
          if (isPrime(i)) output.push(i);
        }
        console.log(output);
        return output;
      }

      function solve3()
      {
        var target = document.problem_three.p3_target.value;
        var lastChecked = 1;
        var primes = generatePrimes(target);
        console.log("Number of primes : " + primes.length);

        for (var i = primes.length-1 ; i > 0 && !(target % primes[i] === 0); i--){
          console.log("checked " + primes[i]);
          lastChecked = primes[i-1];
        }
        document.problem_three.p3_answer.value = lastChecked;
      }
    </script>
  </head>
  <body>
    <a href="http://www.projecteuler.net"><h1>Project Euler</h1></a>
    <h2>Problem 1 - Multiples of 3 and 5</h2>
    <p>If we list all the natural numbers below 10 that  are multiples of 3 or 5, we get 3, 5, 6 and 9. The sum of these multiples is 23.</p>
    <p>Find the sum of all the multiples of 3 or 5 below 1000.</p>
    <form name="problem_one">
      <p>
        <label>Upper limit : </label>
        <input type="number" name="p1_upper_limit" value="1000"/>
        <button type="button" onclick="solve1();">Calculate</button>
      </p>
      <p><label>Sum of all multiples of 3 or 5 : </label><input name="p1_answer"/></p>
    </form>
    <h2>Problem 2 - Even Fibonacci numbers</h2>
    <p>Each new term in the Fibonacci sequence is generated by adding the previous two terms. By starting with 1 and 2, the first 10 terms will be:</p>
    <blockquote>1, 2, 3, 5, 8, 13, 21, 34, 55, 89, ...</blockquote>
    <p>By considering the terms in the Fibonacci sequence whose values do not exceed four million, find the sum of the even-valued terms.</p>
    <form name="problem_two">
      <p>
        <label>Upper limit : </label>
        <input type="number" name="p2_upper_limit" id="p2_upper_limit" value="4000000"/>
        <button type="button" onclick="solve2();">Calculate</button>
      </p>
      <p><label>Sum of all the even-valued terms : </label><input name="p2_answer" id="p2_answer"/></p>
    </form>
    <h2>Problem 3 - Largest prime factor</h2>
    <p>The prime factors of 13195 are 5, 7, 13 and 29.</p>
    <p>What is the largest prime factor of the number 600851475143?</p>
    <form name="problem_three">
      <p>
        <label>Target number : </label>
        <input type="number" name="p3_target" id="p3_target" value="600851475143"/>
        <button type="button" onclick="solve3();">Calculate</button>
      </p>
      <p><label>Largest prime factor : </label><input name="p3_answer" id="p3_answer"/></p>
    </form>
  </body>
</html>
